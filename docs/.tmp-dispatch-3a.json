{
  "title": "Phase 3a: Port 12 Level-0 schema types to TypeScript (no schema dependencies)",
  "body": "## Overview\n\nPort 12 schema types that have NO dependencies on other schema types — only primitives and `TypedSchema`. These are foundational types needed by later phases.\n\n## Reference\n\n- **PHP source**: `php/src/v1/Schema/` (see individual files below)\n- **TS conventions**: `AGENTS-ts.md`\n- **TS skill**: `.claude/skills/ts-schema-implementation/SKILL.md`\n- **Existing TS examples**: `ts/src/schema/Brand.ts`, Phase 2b/2c types\n\n## Types to implement\n\nAll files go in `ts/src/schema/`. Tests go in `ts/test/schema/`.\n\n### 1. `Thing.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/Thing.php`\n\nProperties:\n- `name: string` (required)\n\nschemaType: `'Thing'`\n\n### 2. `AggregateOffer.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/AggregateOffer.php`\n\nProperties:\n- `lowPrice: number` (required)\n- `priceCurrency: string` (required)\n- `highPrice: number | null` (optional, default null)\n- `offerCount: number | null` (optional, default null)\n\nschemaType: `'AggregateOffer'`\n\n### 3. `AggregateRating.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/AggregateRating.php`\n\nProperties:\n- `ratingValue: number` (required)\n- `bestRating: number | null` (optional, default null)\n- `worstRating: number | null` (optional, default null)\n- `ratingCount: number | null` (optional, default null)\n- `reviewCount: number | null` (optional, default null)\n\nNote: PHP uses `float|int` — in TypeScript, use `number` for all numeric types.\n\nschemaType: `'AggregateRating'`\n\n### 4. `BroadcastEvent.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/BroadcastEvent.php`\n\nProperties:\n- `isLiveBroadcast: boolean` (required)\n- `startDate: string | null` (optional, default null)\n- `endDate: string | null` (optional, default null)\n\nschemaType: `'BroadcastEvent'`\n\n### 5. `Clip.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/Clip.php`\n\nProperties:\n- `name: string` (required)\n- `startOffset: number` (required)\n- `url: string` (required)\n- `endOffset: number | null` (optional, default null)\n\nschemaType: `'Clip'`\n\n### 6. `DefinedRegion.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/DefinedRegion.php`\n\nProperties:\n- `addressCountry: string` (required)\n- `addressRegion: string | readonly string[] | null` (optional, default null)\n- `postalCode: string | null` (optional, default null)\n\nNote the union type on `addressRegion` — it can be a single string or an array of strings (e.g., `\"NY\"` or `[\"CA\", \"NV\", \"AZ\"]`).\n\nschemaType: `'DefinedRegion'`\n\n### 7. `InteractionCounter.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/InteractionCounter.php`\n\nProperties:\n- `interactionType: string` (required)\n- `userInteractionCount: number` (required)\n- `interactionService: string | null` (optional, default null)\n\nschemaType: `'InteractionCounter'`\n\n### 8. `PeopleAudience.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/PeopleAudience.php`\n\nProperties:\n- `suggestedGender: string | null` (optional, default null)\n- `suggestedMinAge: number | null` (optional, default null)\n- `suggestedMaxAge: number | null` (optional, default null)\n\nNote: all properties are optional. PHP uses `int|float` — in TypeScript, use `number`.\n\nschemaType: `'PeopleAudience'`\n\n### 9. `Schedule.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/Schedule.php`\n\nProperties:\n- `repeatFrequency: string` (required)\n- `repeatCount: number | null` (optional, default null)\n- `startDate: string | null` (optional, default null)\n- `endDate: string | null` (optional, default null)\n\nschemaType: `'Schedule'`\n\n### 10. `ShippingRateSettings.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/ShippingRateSettings.php`\n\nProperties:\n- `orderPercentage: number | null` (optional, default null)\n- `weightPercentage: number | null` (optional, default null)\n\nNote: all properties are optional.\n\nschemaType: `'ShippingRateSettings'`\n\n### 11. `SolveMathAction.ts` — positional constructor + PROPERTY_MAP\n\nPHP ref: `php/src/v1/Schema/SolveMathAction.php`\n\nProperties:\n- `target: string` (required)\n- `mathExpressionInput: string` (required)\n- `eduQuestionType: string | readonly string[] | null` (optional, default null)\n\n**IMPORTANT**: This type has a `propertyMap` that renames `mathExpressionInput` to `mathExpression-input` in the JSON output. Add:\n\n```typescript\nstatic readonly propertyMap: Record<string, string> = {\n    mathExpressionInput: \"mathExpression-input\",\n};\n```\n\nThis works with the existing `JsonLdGenerator` which checks for `propertyMap` on schema classes.\n\nschemaType: `'SolveMathAction'`\n\n### 12. `NutritionInformation.ts` — OPTIONS OBJECT (10 optional properties)\n\nPHP ref: `php/src/v1/Schema/NutritionInformation.php`\n\nThis type has 10 optional properties — use the options object pattern (see `PostalAddress.ts` for reference).\n\nCreate an exported `NutritionInformationOptions` interface:\n\n```typescript\nexport interface NutritionInformationOptions {\n    calories?: string | null;\n    fatContent?: string | null;\n    saturatedFatContent?: string | null;\n    cholesterolContent?: string | null;\n    sodiumContent?: string | null;\n    carbohydrateContent?: string | null;\n    fiberContent?: string | null;\n    sugarContent?: string | null;\n    proteinContent?: string | null;\n    servingSize?: string | null;\n}\n```\n\nConstructor takes `options: NutritionInformationOptions = {}` — all properties default to null via `??` null coalescing.\n\nschemaType: `'NutritionInformation'`\n\n## Testing\n\nCreate one test file per type in `ts/test/schema/`. Each test file must cover:\n\n1. **Minimal construction** — only required properties, verify `@context`, `@type`, required fields\n2. **Null omission** — optional properties when null do NOT appear in JSON output\n3. **Full construction** — all properties set, verify they all appear\n4. **Special cases**:\n   - `DefinedRegion`: test both string and string[] for `addressRegion`\n   - `SolveMathAction`: test that `mathExpressionInput` serializes as `mathExpression-input` in JSON output, and test `eduQuestionType` with both string and string[]\n   - `NutritionInformation`: test options object with partial properties, empty object, and full properties\n   - `PeopleAudience`: test with no arguments (all null)\n   - `ShippingRateSettings`: test with no arguments (all null)\n\n## Barrel exports\n\nUpdate `ts/src/index.ts` to export all 12 new types AND the `NutritionInformationOptions` interface. Keep exports sorted alphabetically.\n\n## Acceptance criteria\n\n- [ ] All 12 schema class files created in `ts/src/schema/`\n- [ ] 11 types use positional constructor, 1 type (NutritionInformation) uses options object\n- [ ] Property names match PHP exactly\n- [ ] `SolveMathAction` has `static readonly propertyMap` for key remapping\n- [ ] Union types handled correctly (DefinedRegion, SolveMathAction)\n- [ ] Test file for each type in `ts/test/schema/`\n- [ ] Tests pass (`npm run test`)\n- [ ] Biome passes (`npx biome check`)\n- [ ] Build succeeds (`npm run build`)\n- [ ] `index.ts` updated with all new exports\n- [ ] No modifications to `JsonLdGenerator.ts` or `TypedSchema.ts`\n- [ ] No `any` types used",
  "labels": ["agent-task"],
  "assignees": ["copilot-swe-agent[bot]"],
  "agent_assignment": {
    "target_repo": "EvaLok/schema-org-json-ld",
    "base_branch": "master",
    "model": "gpt-5.3-codex",
    "custom_instructions": ""
  }
}
