{
  "title": "Phase 3b: Port 9 Level-1 schema types to TypeScript (deps on ported types only)",
  "body": "## Overview\n\nPort 9 schema types whose dependencies are all already on master. These types reference enums (Phase 2a) and leaf sub-types (Phase 2b/2c) or Level-0 types (Phase 3a).\n\n## Reference\n\n- **PHP source**: `php/src/v1/Schema/` (see individual files below)\n- **TS conventions**: `AGENTS-ts.md`\n- **TS skill**: `.claude/skills/ts-schema-implementation/SKILL.md`\n- **Existing TS examples**: `ts/src/schema/Brand.ts`, `ts/src/schema/PostalAddress.ts` (options object pattern)\n\n## Types to implement\n\nAll files go in `ts/src/schema/`. Tests go in `ts/test/schema/`.\n\n### 1. `Place.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/Place.php`\n\nProperties:\n- `name: string` (required)\n- `address: PostalAddress | null` (optional, default null)\n- `geo: GeoCoordinates | GeoShape | null` (optional, default null)\n\nImports: `PostalAddress`, `GeoCoordinates`, `GeoShape` from `../schema/`\n\nschemaType: `'Place'`\n\n### 2. `ListItem.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/ListItem.php`\n\nProperties:\n- `position: number` (required)\n- `name: string | null` (optional, default null)\n- `item: string | TypedSchema | null` (optional, default null)\n- `url: string | null` (optional, default null)\n\nNote: `item` is a union of `string | TypedSchema | null` — it can be a URL string or any schema object.\n\nImports: `TypedSchema` from `../TypedSchema.js`\n\nschemaType: `'ListItem'`\n\n### 3. `ShippingDeliveryTime.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/ShippingDeliveryTime.php`\n\nProperties:\n- `handlingTime: QuantitativeValue` (required)\n- `transitTime: QuantitativeValue` (required)\n\nImports: `QuantitativeValue` from `../schema/`\n\nschemaType: `'ShippingDeliveryTime'`\n\n### 4. `ServicePeriod.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/ServicePeriod.php`\n\nProperties:\n- `duration: QuantitativeValue | null` (optional, default null)\n- `businessDays: readonly DayOfWeek[] | null` (optional, default null)\n- `cutoffTime: string | null` (optional, default null)\n\nNote: all properties are optional.\n\nImports: `QuantitativeValue` from `../schema/`, `DayOfWeek` from `../enum/`\n\nschemaType: `'ServicePeriod'`\n\n### 5. `MerchantReturnPolicySeasonalOverride.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/MerchantReturnPolicySeasonalOverride.php`\n\nProperties:\n- `startDate: string` (required)\n- `endDate: string` (required)\n- `returnPolicyCategory: MerchantReturnEnumeration` (required)\n- `merchantReturnDays: number | null` (optional, default null)\n\nImports: `MerchantReturnEnumeration` from `../enum/`\n\nschemaType: `'MerchantReturnPolicySeasonalOverride'`\n\n### 6. `OpeningHoursSpecification.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/OpeningHoursSpecification.php`\n\nProperties:\n- `dayOfWeek: DayOfWeek | null` (optional, default null)\n- `opens: string | null` (optional, default null)\n- `closes: string | null` (optional, default null)\n- `validFrom: string | null` (optional, default null)\n- `validThrough: string | null` (optional, default null)\n\nNote: all 5 properties are optional (5 is not >5, so use positional constructor).\n\nImports: `DayOfWeek` from `../enum/`\n\nschemaType: `'OpeningHoursSpecification'`\n\n### 7. `HowToStep.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/HowToStep.php`\n\nProperties:\n- `text: string` (required)\n- `name: string | null` (optional, default null)\n- `url: string | null` (optional, default null)\n- `image: string | null` (optional, default null)\n- `video: Clip | null` (optional, default null)\n- `itemListElement: readonly string[] | null` (optional, default null)\n\n5 optional properties (not >5, so use positional constructor).\n\nImports: `Clip` from `../schema/`\n\nschemaType: `'HowToStep'`\n\n### 8. `HowToSection.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/HowToSection.php`\n\nProperties:\n- `name: string` (required)\n- `itemListElement: readonly HowToStep[]` (required)\n\nImports: `HowToStep` from `../schema/`\n\nschemaType: `'HowToSection'`\n\n### 9. `Accommodation.ts` — OPTIONS OBJECT (7 optional properties)\n\nPHP ref: `php/src/v1/Schema/Accommodation.php`\n\nThis type has 7 optional properties — use the options object pattern.\n\nCreate an exported `AccommodationOptions` interface:\n\n```typescript\nexport interface AccommodationOptions {\n    occupancy: QuantitativeValue;\n    additionalType?: string | null;\n    numberOfBedrooms?: number | null;\n    numberOfBathroomsTotal?: number | null;\n    numberOfRooms?: number | null;\n    floorSize?: QuantitativeValue | null;\n    bed?: readonly BedDetails[] | null;\n    amenityFeature?: readonly LocationFeatureSpecification[] | null;\n}\n```\n\nNote: `occupancy` is required (no `?`). All others default to null via `??` null coalescing.\n\nImports: `QuantitativeValue`, `BedDetails`, `LocationFeatureSpecification` from `../schema/`\n\nschemaType: `'Accommodation'`\n\n## Testing\n\nCreate one test file per type in `ts/test/schema/`. Each test file must cover:\n\n1. **Minimal construction** — only required properties, verify `@context`, `@type`, required fields\n2. **Null omission** — optional properties when null do NOT appear in JSON output\n3. **Full construction** — all properties set, verify they all appear\n4. **Special cases**:\n   - `Place`: test with `GeoCoordinates` and separately with `GeoShape` for `geo`\n   - `ListItem`: test `item` with both string URL and a TypedSchema instance (e.g., `Brand`)\n   - `ServicePeriod`: test with `DayOfWeek` array\n   - `MerchantReturnPolicySeasonalOverride`: test with enum value\n   - `HowToStep`: test with `Clip` for video, test with string array for `itemListElement`\n   - `Accommodation`: test options object with partial properties and full properties; test arrays of `BedDetails` and `LocationFeatureSpecification`\n\n## Barrel exports\n\nUpdate `ts/src/index.ts` to export all 9 new types AND the `AccommodationOptions` interface. Keep exports sorted alphabetically.\n\n## Acceptance criteria\n\n- [ ] All 9 schema class files created in `ts/src/schema/`\n- [ ] 8 types use positional constructor, 1 type (Accommodation) uses options object\n- [ ] Property names match PHP exactly\n- [ ] Schema type dependencies correctly imported\n- [ ] Union types handled correctly (Place.geo, ListItem.item)\n- [ ] Array types use `readonly` (BedDetails[], LocationFeatureSpecification[], HowToStep[], string[], DayOfWeek[])\n- [ ] Test file for each type in `ts/test/schema/`\n- [ ] Tests pass (`npm run test`)\n- [ ] Biome passes (`npx biome check`)\n- [ ] Build succeeds (`npm run build`)\n- [ ] `index.ts` updated with all new exports\n- [ ] No modifications to `JsonLdGenerator.ts` or `TypedSchema.ts`\n- [ ] No `any` types used",
  "labels": ["agent-task"],
  "assignees": ["copilot-swe-agent[bot]"],
  "agent_assignment": {
    "target_repo": "EvaLok/schema-org-json-ld",
    "base_branch": "master",
    "model": "gpt-5.3-codex",
    "custom_instructions": ""
  }
}
