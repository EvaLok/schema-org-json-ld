{
  "title": "Phase 3e: Port 9 schema types to TypeScript (Level 5-6: EmployerAggregateRating, JobPosting, Certification, ImageObject, Review, Answer, CourseInstance, ProfilePage, Dataset)",
  "body": "## Overview\n\nPort 9 schema types at dependency levels 5-6. All external dependencies (Organization, Person, Place, etc.) are already on master from Phase 3d and earlier. Types within this batch are independent of each other — implement in any order.\n\n## Reference\n\n- **PHP source**: `php/src/v1/Schema/` (see individual files below)\n- **TS conventions**: `AGENTS-ts.md`\n- **TS skill**: `.claude/skills/ts-schema-implementation/SKILL.md`\n- **Existing TS examples**: `ts/src/schema/PostalAddress.ts` (options object), `ts/src/schema/Brand.ts` (positional)\n\n## Types to implement\n\nAll files go in `ts/src/schema/`. Tests go in `ts/test/schema/`.\n\n### 1. `EmployerAggregateRating.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/EmployerAggregateRating.php`\n\nProperties:\n- `itemReviewed: Organization` (required)\n- `ratingValue: number` (required)\n- `ratingCount: number | null` (optional, default null)\n- `reviewCount: number | null` (optional, default null)\n- `bestRating: number | null` (optional, default null)\n- `worstRating: number | null` (optional, default null)\n\nImports: `Organization` from `../schema/`\n\nschemaType: `'EmployerAggregateRating'`\n\n### 2. `JobPosting.ts` — OPTIONS OBJECT (8 optional properties)\n\nPHP ref: `php/src/v1/Schema/JobPosting.php`\n\nCreate an exported `JobPostingOptions` interface:\n\n```typescript\nexport interface JobPostingOptions {\n    title: string;\n    description: string;\n    datePosted: string;\n    hiringOrganization: Organization;\n    jobLocation?: Place | null;\n    baseSalary?: MonetaryAmount | null;\n    employmentType?: string | null;\n    validThrough?: string | null;\n    applicantLocationRequirements?: AdministrativeArea | null;\n    jobLocationType?: string | null;\n    directApply?: boolean | null;\n    identifier?: PropertyValue | null;\n}\n```\n\nNote: `title`, `description`, `datePosted`, `hiringOrganization` are REQUIRED (no `?`).\n\nImports: `Organization`, `Place`, `MonetaryAmount`, `AdministrativeArea`, `PropertyValue` from `../schema/`\n\nschemaType: `'JobPosting'`\n\n### 3. `Certification.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/Certification.php`\n\nProperties:\n- `name: string` (required)\n- `issuedBy: Organization` (required)\n- `certificationIdentification: string | null` (optional, default null)\n- `certificationRating: Rating | null` (optional, default null)\n\nImports: `Organization`, `Rating` from `../schema/`\n\nschemaType: `'Certification'`\n\n### 4. `ImageObject.ts` — OPTIONS OBJECT (13 optional properties)\n\nPHP ref: `php/src/v1/Schema/ImageObject.php`\n\nCreate an exported `ImageObjectOptions` interface:\n\n```typescript\nexport interface ImageObjectOptions {\n    contentUrl: string;\n    url?: string | null;\n    name?: string | null;\n    caption?: string | null;\n    description?: string | null;\n    width?: string | null;\n    height?: string | null;\n    license?: string | null;\n    acquireLicensePage?: string | null;\n    creditText?: string | null;\n    copyrightNotice?: string | null;\n    creator?: Organization | Person | null;\n    datePublished?: string | null;\n    uploadDate?: string | null;\n}\n```\n\nNote: Only `contentUrl` is REQUIRED (no `?`). `creator` is a union of `Organization | Person | null`.\n\nImports: `Organization`, `Person` from `../schema/`\n\nschemaType: `'ImageObject'`\n\n### 5. `Review.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/Review.php`\n\nProperties:\n- `author: string | Person | Organization` (required)\n- `reviewRating: Rating` (required)\n- `reviewBody: string | null` (optional, default null)\n- `datePublished: string | null` (optional, default null)\n- `name: string | null` (optional, default null)\n- `itemReviewed: TypedSchema | null` (optional, default null)\n\nNote: `author` is a union of `string | Person | Organization`. `itemReviewed` accepts any `TypedSchema` instance.\n\nImports: `Person`, `Organization`, `Rating` from `../schema/`, `TypedSchema` from `../TypedSchema`\n\nschemaType: `'Review'`\n\n### 6. `Answer.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/Answer.php`\n\nProperties:\n- `text: string` (required)\n- `author: Person | Organization | null` (optional, default null)\n- `url: string | null` (optional, default null)\n- `upvoteCount: number | null` (optional, default null)\n- `datePublished: string | null` (optional, default null)\n- `dateModified: string | null` (optional, default null)\n\nNote: `author` is a union of `Person | Organization | null`.\n\nImports: `Person`, `Organization` from `../schema/`\n\nschemaType: `'Answer'`\n\n### 7. `CourseInstance.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/CourseInstance.php`\n\nProperties:\n- `courseMode: string | null` (optional, default null)\n- `instructor: Person | null` (optional, default null)\n- `courseSchedule: Schedule | null` (optional, default null)\n- `courseWorkload: string | null` (optional, default null)\n\nNote: ALL properties are optional. Constructor takes 4 positional parameters all defaulting to null.\n\nImports: `Person`, `Schedule` from `../schema/`\n\nschemaType: `'CourseInstance'`\n\n### 8. `ProfilePage.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/ProfilePage.php`\n\nProperties:\n- `mainEntity: Person | Organization` (required)\n- `dateCreated: string | null` (optional, default null)\n- `dateModified: string | null` (optional, default null)\n\nNote: `mainEntity` is a union of `Person | Organization`.\n\nImports: `Person`, `Organization` from `../schema/`\n\nschemaType: `'ProfilePage'`\n\n### 9. `Dataset.ts` — OPTIONS OBJECT (17 optional properties)\n\nPHP ref: `php/src/v1/Schema/Dataset.php`\n\nCreate an exported `DatasetOptions` interface:\n\n```typescript\nexport interface DatasetOptions {\n    name: string;\n    description: string;\n    url?: string | null;\n    sameAs?: string | null;\n    creator?: Person | Organization | null;\n    funder?: Person | Organization | null;\n    license?: string | null;\n    keywords?: readonly string[] | null;\n    identifier?: readonly string[] | null;\n    isAccessibleForFree?: boolean | null;\n    temporalCoverage?: string | null;\n    spatialCoverage?: Place | null;\n    includedInDataCatalog?: DataCatalog | null;\n    distribution?: readonly DataDownload[] | null;\n    variableMeasured?: string | null;\n    measurementTechnique?: string | null;\n    version?: string | null;\n    alternateName?: string | null;\n    citation?: string | null;\n}\n```\n\nNote: `name` and `description` are REQUIRED (no `?`). `creator` and `funder` are unions of `Person | Organization | null`. `keywords` and `identifier` are string arrays. `distribution` is an array of DataDownload.\n\nImports: `Person`, `Organization`, `Place`, `DataCatalog`, `DataDownload` from `../schema/`\n\nschemaType: `'Dataset'`\n\n## Testing\n\nCreate one test file per type in `ts/test/schema/`. Each test file must cover:\n\n1. **Minimal construction** — only required properties, verify `@context`, `@type`, required fields\n2. **Null omission** — optional properties when null do NOT appear in JSON output\n3. **Full construction** — all properties set (or a representative subset for large types like Dataset), verify they appear\n4. **Special cases**:\n   - `EmployerAggregateRating`: test with Organization as `itemReviewed`\n   - `JobPosting`: test all optional properties; test with nested schema objects (Place, MonetaryAmount, etc.)\n   - `ImageObject`: test `creator` with both Organization and Person\n   - `Review`: test `author` with string, Person, and Organization; test `itemReviewed` with a TypedSchema instance\n   - `Answer`: test `author` with both Person and Organization\n   - `CourseInstance`: test with all-null (minimal) construction\n   - `ProfilePage`: test `mainEntity` with both Person and Organization\n   - `Dataset`: test `creator`/`funder` with both Person and Organization; test array properties (keywords, identifier, distribution)\n\n## Barrel exports\n\nUpdate `ts/src/index.ts` to export all 9 new types AND their Options interfaces (`JobPostingOptions`, `ImageObjectOptions`, `DatasetOptions`). Keep exports sorted alphabetically.\n\n## Acceptance criteria\n\n- [ ] All 9 schema class files created in `ts/src/schema/`\n- [ ] 6 types use positional constructor (EmployerAggregateRating, Certification, Review, Answer, CourseInstance, ProfilePage), 3 types use options object (JobPosting, ImageObject, Dataset)\n- [ ] Property names match PHP exactly\n- [ ] Schema type dependencies correctly imported\n- [ ] Union types handled correctly (author as string|Person|Organization, creator/funder as Person|Organization, mainEntity as Person|Organization, itemReviewed as TypedSchema)\n- [ ] Array types use `readonly` where appropriate\n- [ ] Test file for each type in `ts/test/schema/`\n- [ ] Tests pass (`npm run test`)\n- [ ] Biome passes (`npx biome check`)\n- [ ] Build succeeds (`npm run build`)\n- [ ] `index.ts` updated with all new exports\n- [ ] No modifications to `JsonLdGenerator.ts` or `TypedSchema.ts`\n- [ ] No `any` types used",
  "labels": ["agent-task"],
  "assignees": ["copilot-swe-agent[bot]"],
  "agent_assignment": {
    "target_repo": "EvaLok/schema-org-json-ld",
    "base_branch": "master",
    "model": "gpt-5.3-codex",
    "custom_instructions": ""
  }
}
