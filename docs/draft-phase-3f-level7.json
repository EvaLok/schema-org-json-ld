{
  "title": "Phase 3f: Port 10 schema types to TypeScript (Level 7: Question, Comment, Article, Event, SoftwareApplication, Movie, LocalBusiness, Course, Recipe, VacationRental)",
  "body": "## Overview\n\nPort 10 schema types at dependency level 7. All external dependencies are on master from Phase 3e and earlier. These types are independent of each other — implement in any order.\n\n**ALL 10 types use the OPTIONS OBJECT pattern** (all have >5 optional properties).\n\n## Reference\n\n- **PHP source**: `php/src/v1/Schema/` (see individual files below)\n- **TS conventions**: `AGENTS-ts.md`\n- **TS skill**: `.claude/skills/ts-schema-implementation/SKILL.md`\n- **Existing TS examples**: `ts/src/schema/PostalAddress.ts` (options object), `ts/src/schema/Organization.ts` (large options object)\n\n## Types to implement\n\nAll files go in `ts/src/schema/`. Tests go in `ts/test/schema/`.\n\n### 1. `Question.ts` — OPTIONS OBJECT (9 optional properties)\n\nPHP ref: `php/src/v1/Schema/Question.php`\n\nCreate an exported `QuestionOptions` interface:\n\n```typescript\nexport interface QuestionOptions {\n    name: string;\n    acceptedAnswer?: Answer | null;\n    suggestedAnswer?: readonly Answer[] | null;\n    answerCount?: number | null;\n    text?: string | null;\n    upvoteCount?: number | null;\n    author?: Person | Organization | null;\n    datePublished?: string | null;\n    dateModified?: string | null;\n    eduQuestionType?: string | null;\n}\n```\n\nNote: Only `name` is REQUIRED. `author` is a union of `Person | Organization | null`. `suggestedAnswer` is an array of Answer.\n\nImports: `Answer`, `Person`, `Organization` from `../schema/`\n\nschemaType: `'Question'`\n\n### 2. `Comment.ts` — OPTIONS OBJECT (10 optional properties)\n\nPHP ref: `php/src/v1/Schema/Comment.php`\n\nCreate an exported `CommentOptions` interface:\n\n```typescript\nexport interface CommentOptions {\n    text: string;\n    author?: Person | Organization | null;\n    datePublished?: string | null;\n    url?: string | null;\n    dateModified?: string | null;\n    image?: ImageObject | null;\n    video?: VideoObject | null;\n    comment?: readonly Comment[] | null;\n    interactionStatistic?: InteractionCounter | readonly InteractionCounter[] | null;\n    sharedContent?: string | null;\n    creativeWorkStatus?: string | null;\n}\n```\n\nNote: Only `text` is REQUIRED. `comment` is self-referential (array of Comment). `interactionStatistic` accepts single or array.\n\nImports: `Person`, `Organization`, `ImageObject`, `VideoObject`, `InteractionCounter` from `../schema/`\n\nschemaType: `'Comment'`\n\n### 3. `Article.ts` — OPTIONS OBJECT (9 optional properties)\n\nPHP ref: `php/src/v1/Schema/Article.php`\n\nCreate an exported `ArticleOptions` interface:\n\n```typescript\nexport interface ArticleOptions {\n    headline: string;\n    author?: Person | Organization | readonly (Person | Organization)[] | null;\n    datePublished?: string | null;\n    dateModified?: string | null;\n    image?: readonly string[] | null;\n    description?: string | null;\n    publisher?: Organization | null;\n    speakable?: SpeakableSpecification | null;\n    isAccessibleForFree?: boolean | null;\n    hasPart?: WebPageElement | readonly WebPageElement[] | null;\n}\n```\n\nNote: Only `headline` is REQUIRED. `author` accepts a single Person/Organization OR an array. `image` is an array of strings. `hasPart` accepts single or array of WebPageElement.\n\nImports: `Person`, `Organization`, `SpeakableSpecification`, `WebPageElement` from `../schema/`\n\nschemaType: `'Article'`\n\n### 4. `Event.ts` — OPTIONS OBJECT (9 optional properties)\n\nPHP ref: `php/src/v1/Schema/Event.php`\n\nCreate an exported `EventOptions` interface:\n\n```typescript\nexport interface EventOptions {\n    name: string;\n    startDate: string;\n    location: Place | VirtualLocation | readonly (Place | VirtualLocation)[];\n    description?: string | null;\n    endDate?: string | null;\n    eventAttendanceMode?: EventAttendanceModeEnumeration | null;\n    eventStatus?: EventStatusType | null;\n    image?: readonly string[] | null;\n    offers?: Offer | readonly Offer[] | null;\n    organizer?: Organization | Person | null;\n    performer?: Person | readonly Person[] | null;\n    previousStartDate?: string | null;\n}\n```\n\nNote: `name`, `startDate`, `location` are REQUIRED. `location` accepts single Place/VirtualLocation or array. `offers` accepts single or array. `performer` accepts single or array.\n\nImports: `Place`, `VirtualLocation`, `Offer`, `Organization`, `Person` from `../schema/`, `EventAttendanceModeEnumeration`, `EventStatusType` from `../enum/`\n\nschemaType: `'Event'`\n\n### 5. `SoftwareApplication.ts` — OPTIONS OBJECT (7 optional properties)\n\nPHP ref: `php/src/v1/Schema/SoftwareApplication.php`\n\nCreate an exported `SoftwareApplicationOptions` interface:\n\n```typescript\nexport interface SoftwareApplicationOptions {\n    name: string;\n    offers: Offer | readonly Offer[];\n    aggregateRating: AggregateRating | null;\n    applicationCategory?: string | null;\n    operatingSystem?: string | null;\n    datePublished?: string | null;\n    review?: Review | null;\n    description?: string | null;\n    screenshot?: string | null;\n}\n```\n\nNote: `name`, `offers`, `aggregateRating` are REQUIRED (no `?`). `aggregateRating` is required but nullable (can be explicitly null). `offers` accepts single or array.\n\nImports: `Offer`, `AggregateRating`, `Review` from `../schema/`\n\nschemaType: `'SoftwareApplication'`\n\n### 6. `Movie.ts` — OPTIONS OBJECT (7 optional properties)\n\nPHP ref: `php/src/v1/Schema/Movie.php`\n\nCreate an exported `MovieOptions` interface:\n\n```typescript\nexport interface MovieOptions {\n    name: string;\n    image: string;\n    aggregateRating?: AggregateRating | null;\n    dateCreated?: string | null;\n    datePublished?: string | null;\n    director?: Person | null;\n    review?: Review | null;\n    description?: string | null;\n    actor?: readonly Person[] | null;\n}\n```\n\nNote: `name` and `image` are REQUIRED. `actor` is an array of Person.\n\nImports: `AggregateRating`, `Person`, `Review` from `../schema/`\n\nschemaType: `'Movie'`\n\n### 7. `LocalBusiness.ts` — OPTIONS OBJECT (15 optional properties)\n\nPHP ref: `php/src/v1/Schema/LocalBusiness.php`\n\nCreate an exported `LocalBusinessOptions` interface:\n\n```typescript\nexport interface LocalBusinessOptions {\n    name: string;\n    address: PostalAddress;\n    url?: string | null;\n    telephone?: string | null;\n    description?: string | null;\n    image?: readonly string[] | null;\n    priceRange?: string | null;\n    geo?: GeoCoordinates | null;\n    openingHoursSpecification?: readonly OpeningHoursSpecification[] | null;\n    aggregateRating?: AggregateRating | null;\n    review?: Review | readonly Review[] | null;\n    menu?: string | null;\n    servesCuisine?: string | null;\n    logo?: string | null;\n    email?: string | null;\n    sameAs?: readonly string[] | null;\n    department?: LocalBusiness | readonly LocalBusiness[] | null;\n}\n```\n\nNote: `name` and `address` are REQUIRED. `department` is self-referential (LocalBusiness or array). `review` accepts single or array. `image`, `sameAs` are string arrays. `openingHoursSpecification` is an array.\n\nImports: `PostalAddress`, `GeoCoordinates`, `OpeningHoursSpecification`, `AggregateRating`, `Review` from `../schema/`\n\nschemaType: `'LocalBusiness'`\n\n### 8. `Course.ts` — OPTIONS OBJECT (8 optional properties)\n\nPHP ref: `php/src/v1/Schema/Course.php`\n\nCreate an exported `CourseOptions` interface:\n\n```typescript\nexport interface CourseOptions {\n    name: string;\n    description: string;\n    provider?: Organization | null;\n    offers?: readonly Offer[] | null;\n    hasCourseInstance?: readonly CourseInstance[] | null;\n    courseCode?: string | null;\n    inLanguage?: string | null;\n    totalHistoricalEnrollment?: number | null;\n    aggregateRating?: AggregateRating | null;\n    image?: string | null;\n}\n```\n\nNote: `name` and `description` are REQUIRED. `offers` and `hasCourseInstance` are arrays.\n\nImports: `Organization`, `Offer`, `CourseInstance`, `AggregateRating` from `../schema/`\n\nschemaType: `'Course'`\n\n### 9. `Recipe.ts` — OPTIONS OBJECT (21 optional properties)\n\nPHP ref: `php/src/v1/Schema/Recipe.php`\n\nThis is the largest type in this batch with 21 optional properties.\n\nCreate an exported `RecipeOptions` interface:\n\n```typescript\nexport interface RecipeOptions {\n    name: string;\n    image: readonly string[];\n    author?: Person | Organization | null;\n    datePublished?: string | null;\n    description?: string | null;\n    prepTime?: string | null;\n    cookTime?: string | null;\n    totalTime?: string | null;\n    keywords?: string | null;\n    recipeYield?: string | null;\n    recipeCategory?: string | null;\n    recipeCuisine?: string | null;\n    recipeIngredient?: readonly string[] | null;\n    recipeInstructions?: readonly (HowToStep | HowToSection)[] | null;\n    nutrition?: NutritionInformation | null;\n    aggregateRating?: AggregateRating | null;\n    review?: Review | readonly Review[] | null;\n    video?: VideoObject | null;\n    expires?: string | null;\n    hasPart?: readonly Clip[] | null;\n    publication?: BroadcastEvent | null;\n    ineligibleRegion?: string | null;\n    interactionStatistic?: InteractionCounter | readonly InteractionCounter[] | null;\n}\n```\n\nNote: `name` and `image` are REQUIRED. `image` is a string array. `recipeInstructions` contains HowToStep and/or HowToSection. `review` and `interactionStatistic` accept single or array. Check PHP `@var` annotations for exact array element types.\n\nImports: `Person`, `Organization`, `HowToStep`, `HowToSection`, `NutritionInformation`, `AggregateRating`, `Review`, `VideoObject`, `Clip`, `BroadcastEvent`, `InteractionCounter` from `../schema/`\n\nschemaType: `'Recipe'`\n\n### 10. `VacationRental.ts` — OPTIONS OBJECT (10 optional properties)\n\nPHP ref: `php/src/v1/Schema/VacationRental.php`\n\nCreate an exported `VacationRentalOptions` interface:\n\n```typescript\nexport interface VacationRentalOptions {\n    name: string;\n    identifier: string;\n    image: readonly string[];\n    latitude: number;\n    longitude: number;\n    containsPlace: Accommodation;\n    additionalType?: string | null;\n    address?: PostalAddress | null;\n    aggregateRating?: AggregateRating | null;\n    brand?: Brand | null;\n    checkinTime?: string | null;\n    checkoutTime?: string | null;\n    datePublished?: string | null;\n    description?: string | null;\n    knowsLanguage?: readonly string[] | null;\n    review?: readonly Review[] | null;\n}\n```\n\nNote: `name`, `identifier`, `image`, `latitude`, `longitude`, `containsPlace` are all REQUIRED (6 required). `image` and `knowsLanguage` are string arrays. `review` is a Review array.\n\nImports: `Accommodation`, `PostalAddress`, `AggregateRating`, `Brand`, `Review` from `../schema/`\n\nschemaType: `'VacationRental'`\n\n## Testing\n\nCreate one test file per type in `ts/test/schema/`. Each test file must cover:\n\n1. **Minimal construction** — only required properties, verify `@context`, `@type`, required fields\n2. **Null omission** — optional properties when null do NOT appear in JSON output\n3. **Full construction** — all properties set (or a representative subset for large types like Recipe), verify they appear\n4. **Special cases**:\n   - `Question`: test `author` with both Person and Organization; test `suggestedAnswer` as array\n   - `Comment`: test self-referential `comment` array; test `interactionStatistic` single and array\n   - `Article`: test `author` with single Person, single Organization, and array; test `hasPart` single and array\n   - `Event`: test `location` with Place, VirtualLocation, and array; test `offers` single and array; test enum values\n   - `SoftwareApplication`: test `aggregateRating` with both AggregateRating and null (both required); test `offers` single and array\n   - `Movie`: test `actor` as Person array\n   - `LocalBusiness`: test self-referential `department` single and array; test `review` single and array\n   - `Course`: test `offers` and `hasCourseInstance` as arrays\n   - `Recipe`: test `recipeInstructions` with HowToStep array; test `review` and `interactionStatistic` single and array\n   - `VacationRental`: test `review` as array; test all 6 required properties\n\n## Barrel exports\n\nUpdate `ts/src/index.ts` to export all 10 new types AND their Options interfaces (`QuestionOptions`, `CommentOptions`, `ArticleOptions`, `EventOptions`, `SoftwareApplicationOptions`, `MovieOptions`, `LocalBusinessOptions`, `CourseOptions`, `RecipeOptions`, `VacationRentalOptions`). Keep exports sorted alphabetically.\n\n**IMPORTANT**: Fix the existing alphabetical ordering issue: `ShippingRateSettings` must come BEFORE `ShippingService` in the barrel file.\n\n## Acceptance criteria\n\n- [ ] All 10 schema class files created in `ts/src/schema/`\n- [ ] All 10 types use options object pattern\n- [ ] Property names match PHP exactly\n- [ ] Schema type dependencies correctly imported\n- [ ] Union types handled correctly (single-or-array patterns, Person|Organization unions, self-referential types)\n- [ ] Array types use `readonly` where appropriate\n- [ ] Self-referential types work (Comment.comment, LocalBusiness.department)\n- [ ] Test file for each type in `ts/test/schema/`\n- [ ] Tests pass (`npm run test`)\n- [ ] Biome passes (`npx biome check`)\n- [ ] Build succeeds (`npm run build`)\n- [ ] `index.ts` updated with all new exports (sorted alphabetically)\n- [ ] ShippingRateSettings/ShippingService ordering fixed in `index.ts`\n- [ ] No modifications to `JsonLdGenerator.ts` or `TypedSchema.ts`\n- [ ] No `any` types used",
  "labels": ["agent-task"],
  "assignees": ["copilot-swe-agent[bot]"],
  "agent_assignment": {
    "target_repo": "EvaLok/schema-org-json-ld",
    "base_branch": "master",
    "model": "gpt-5.3-codex",
    "custom_instructions": ""
  }
}
