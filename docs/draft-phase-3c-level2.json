{
  "title": "Phase 3c: Port 8 Level-2 schema types to TypeScript (deps on Level-0/1 types)",
  "body": "## Overview\n\nPort 8 schema types that depend on types ported in Phase 3a (Level-0) and Phase 3b (Level-1). All dependencies are already on master.\n\n## Reference\n\n- **PHP source**: `php/src/v1/Schema/` (see individual files below)\n- **TS conventions**: `AGENTS-ts.md`\n- **TS skill**: `.claude/skills/ts-schema-implementation/SKILL.md`\n- **Existing TS examples**: `ts/src/schema/PostalAddress.ts` (options object), `ts/src/schema/Brand.ts` (positional)\n\n## Types to implement\n\nAll files go in `ts/src/schema/`. Tests go in `ts/test/schema/`.\n\n**IMPORTANT**: Implement types in the order listed — later types may depend on earlier ones in this batch.\n\n### 1. `MemberProgramTier.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/MemberProgramTier.php`\n\nProperties:\n- `name: string` (required)\n- `hasTierBenefit: TierBenefitEnumeration | readonly TierBenefitEnumeration[]` (required)\n- `hasTierRequirement: string | null` (optional, default null)\n- `membershipPointsEarned: QuantitativeValue | null` (optional, default null)\n- `url: string | null` (optional, default null)\n\nNote: `hasTierBenefit` accepts a single enum value OR an array.\n\nImports: `TierBenefitEnumeration` from `../enum/`, `QuantitativeValue` from `../schema/`\n\nschemaType: `'MemberProgramTier'`\n\n### 2. `MemberProgram.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/MemberProgram.php`\n\nProperties:\n- `name: string` (required)\n- `description: string` (required)\n- `hasTiers: readonly MemberProgramTier[]` (required)\n- `url: string | null` (optional, default null)\n\nImports: `MemberProgramTier` from `../schema/`\n\nschemaType: `'MemberProgram'`\n\n### 3. `UnitPriceSpecification.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/UnitPriceSpecification.php`\n\nProperties:\n- `price: number` (required)\n- `priceCurrency: string` (required)\n- `priceType: string | null` (optional, default null)\n- `membershipPointsEarned: number | null` (optional, default null)\n- `validForMemberTier: MemberProgramTier | null` (optional, default null)\n- `referenceQuantity: QuantitativeValue | null` (optional, default null)\n\nImports: `MemberProgramTier`, `QuantitativeValue` from `../schema/`\n\nschemaType: `'UnitPriceSpecification'`\n\n### 4. `OfferShippingDetails.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/OfferShippingDetails.php`\n\nProperties:\n- `shippingDestination: DefinedRegion` (required)\n- `shippingRate: MonetaryAmount | null` (optional, default null)\n- `deliveryTime: ShippingDeliveryTime | null` (optional, default null)\n- `doesNotShip: boolean | null` (optional, default null)\n\nImports: `DefinedRegion`, `MonetaryAmount`, `ShippingDeliveryTime` from `../schema/`\n\nschemaType: `'OfferShippingDetails'`\n\n### 5. `BreadcrumbList.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/BreadcrumbList.php`\n\nProperties:\n- `itemListElement: readonly ListItem[]` (required)\n\nImports: `ListItem` from `../schema/`\n\nschemaType: `'BreadcrumbList'`\n\n### 6. `ItemList.ts` — positional constructor\n\nPHP ref: `php/src/v1/Schema/ItemList.php`\n\nProperties:\n- `itemListElement: readonly ListItem[]` (required)\n- `itemListOrder: string | null` (optional, default null)\n- `numberOfItems: number | null` (optional, default null)\n\nImports: `ListItem` from `../schema/`\n\nschemaType: `'ItemList'`\n\n### 7. `ShippingConditions.ts` — OPTIONS OBJECT (9 optional properties)\n\nPHP ref: `php/src/v1/Schema/ShippingConditions.php`\n\nThis type has 9 optional properties — use the options object pattern.\n\nCreate an exported `ShippingConditionsOptions` interface:\n\n```typescript\nexport interface ShippingConditionsOptions {\n    doesNotShip?: boolean | null;\n    numItems?: QuantitativeValue | null;\n    orderValue?: MonetaryAmount | null;\n    shippingDestination?: DefinedRegion | null;\n    shippingOrigin?: DefinedRegion | null;\n    seasonalOverride?: OpeningHoursSpecification | null;\n    shippingRate?: ShippingRateSettings | MonetaryAmount | null;\n    transitTime?: ServicePeriod | null;\n    weight?: QuantitativeValue | null;\n}\n```\n\nNote: ALL properties are optional. Constructor takes `options: ShippingConditionsOptions = {}`.\n\nImports: `QuantitativeValue`, `MonetaryAmount`, `DefinedRegion`, `OpeningHoursSpecification`, `ShippingRateSettings`, `ServicePeriod` from `../schema/`\n\nschemaType: `'ShippingConditions'`\n\n### 8. `MerchantReturnPolicy.ts` — OPTIONS OBJECT (17 optional properties)\n\nPHP ref: `php/src/v1/Schema/MerchantReturnPolicy.php`\n\nThis is the largest type in this batch with 17 optional properties — use the options object pattern.\n\nCreate an exported `MerchantReturnPolicyOptions` interface:\n\n```typescript\nexport interface MerchantReturnPolicyOptions {\n    applicableCountry: string | readonly string[];\n    returnPolicyCategory: MerchantReturnEnumeration;\n    merchantReturnDays?: number | null;\n    merchantReturnLink?: string | null;\n    returnMethod?: ReturnMethodEnumeration | null;\n    returnFees?: ReturnFeesEnumeration | null;\n    returnShippingFeesAmount?: MonetaryAmount | null;\n    refundType?: RefundTypeEnumeration | null;\n    itemCondition?: OfferItemCondition | null;\n    returnLabelSource?: ReturnLabelSourceEnumeration | null;\n    returnPolicyCountry?: string | null;\n    restockingFee?: MonetaryAmount | number | null;\n    customerRemorseReturnFees?: ReturnFeesEnumeration | null;\n    customerRemorseReturnLabelSource?: ReturnLabelSourceEnumeration | null;\n    customerRemorseReturnShippingFeesAmount?: MonetaryAmount | null;\n    itemDefectReturnFees?: ReturnFeesEnumeration | null;\n    itemDefectReturnLabelSource?: ReturnLabelSourceEnumeration | null;\n    itemDefectReturnShippingFeesAmount?: MonetaryAmount | null;\n    returnPolicySeasonalOverride?: MerchantReturnPolicySeasonalOverride | readonly MerchantReturnPolicySeasonalOverride[] | null;\n}\n```\n\nNote: `applicableCountry` and `returnPolicyCategory` are REQUIRED (no `?`). `applicableCountry` can be a single string or an array (e.g., `\"US\"` or `[\"US\", \"CA\"]`). `restockingFee` is a union of `MonetaryAmount | number | null`.\n\nImports: All enums from `../enum/` (MerchantReturnEnumeration, ReturnMethodEnumeration, ReturnFeesEnumeration, RefundTypeEnumeration, OfferItemCondition, ReturnLabelSourceEnumeration), `MonetaryAmount` and `MerchantReturnPolicySeasonalOverride` from `../schema/`\n\nschemaType: `'MerchantReturnPolicy'`\n\n## Testing\n\nCreate one test file per type in `ts/test/schema/`. Each test file must cover:\n\n1. **Minimal construction** — only required properties, verify `@context`, `@type`, required fields\n2. **Null omission** — optional properties when null do NOT appear in JSON output\n3. **Full construction** — all properties set (or a representative subset for large types like MerchantReturnPolicy), verify they appear\n4. **Special cases**:\n   - `MemberProgramTier`: test `hasTierBenefit` with both single enum and array of enums\n   - `MerchantReturnPolicy`: test `applicableCountry` with both string and array; test `restockingFee` with both MonetaryAmount and number; test `returnPolicySeasonalOverride` with single and array\n   - `ShippingConditions`: test `shippingRate` with both `ShippingRateSettings` and `MonetaryAmount`\n   - `ListItem`: test `item` with both string and TypedSchema instance\n\n## Barrel exports\n\nUpdate `ts/src/index.ts` to export all 8 new types AND the `ShippingConditionsOptions` and `MerchantReturnPolicyOptions` interfaces. Keep exports sorted alphabetically.\n\n## Acceptance criteria\n\n- [ ] All 8 schema class files created in `ts/src/schema/`\n- [ ] 6 types use positional constructor, 2 types (ShippingConditions, MerchantReturnPolicy) use options object\n- [ ] Property names match PHP exactly\n- [ ] Schema type dependencies correctly imported\n- [ ] Union types handled correctly (MemberProgramTier.hasTierBenefit, MerchantReturnPolicy.applicableCountry, MerchantReturnPolicy.restockingFee, ShippingConditions.shippingRate)\n- [ ] Array types use `readonly` where appropriate\n- [ ] Test file for each type in `ts/test/schema/`\n- [ ] Tests pass (`npm run test`)\n- [ ] Biome passes (`npx biome check`)\n- [ ] Build succeeds (`npm run build`)\n- [ ] `index.ts` updated with all new exports\n- [ ] No modifications to `JsonLdGenerator.ts` or `TypedSchema.ts`\n- [ ] No `any` types used",
  "labels": ["agent-task"],
  "assignees": ["copilot-swe-agent[bot]"],
  "agent_assignment": {
    "target_repo": "EvaLok/schema-org-json-ld",
    "base_branch": "master",
    "model": "gpt-5.3-codex",
    "custom_instructions": ""
  }
}
